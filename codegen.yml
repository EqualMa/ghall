overwrite: true
schema: "schema.ghack.graphql"
documents: "src/graphql/**/*.graphql"
generates:
  src/graphql/generated.ts:
    config:
      # https://graphql-code-generator.com/docs/plugins/typescript-resolvers#integration-with-apollo-server
      useIndexSignature: true
      avoidOptionals: true
      mappers:
        User: ../github/crawler#UserExtractor
        PinnableItemConnection: ../github/crawler#PinnableItemConnectionExtractor
    plugins:
      - "typescript"
      - "typescript-operations"
      - "typescript-resolvers"
      - "typescript-react-apollo"
  ./graphql.schema.json:
    plugins:
      - "introspection"
hooks:
  afterAllFileWrite:
    - prettier --write
